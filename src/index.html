<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Главная - Название вашего сайта</title>
		<meta
			name="description"
			content="Краткое описание главной страницы вашего сайта"
		/>
		<link rel="icon" href="assets/favicon.ico" type="image/x-icon" />
		<link rel="stylesheet" href="styles.css" />
		<style>
			/* Базовые стили для улучшения внешнего вида */
			body {
				font-family: Arial, sans-serif;
				margin: 0;
				padding: 0;
				line-height: 1.6;
				color: #333;
			}

			header {
				background-color: #f8f8f8;
				padding: 1rem;
				display: flex;
				justify-content: space-between;
				align-items: center;
				border-bottom: 1px solid #e7e7e7;
			}

			nav ul {
				list-style: none;
				display: flex;
				gap: 1.5rem;
				margin: 0;
				padding: 0;
			}

			nav a {
				text-decoration: none;
				color: #333;
				font-weight: 500;
			}

			nav a:hover {
				color: #007bff;
			}

			main {
				max-width: 1200px;
				margin: 0 auto;
				padding: 2rem;
			}

			section {
				margin-bottom: 3rem;
				padding: 2rem;
				border: 1px solid #e7e7e7;
				border-radius: 5px;
			}

			h1 {
				color: #222;
				margin-bottom: 2rem;
			}

			h2 {
				color: #444;
				margin-top: 0;
			}

			button,
			a[href^='#'] {
				background-color: #007bff;
				color: white;
				padding: 0.5rem 1rem;
				border: none;
				border-radius: 4px;
				cursor: pointer;
				text-decoration: none;
				display: inline-block;
				margin-top: 1rem;
			}

			button:hover,
			a[href^='#']:hover {
				background-color: #0056b3;
			}

			footer {
				background-color: #f8f8f8;
				text-align: center;
				padding: 1rem;
				border-top: 1px solid #e7e7e7;
				margin-top: 2rem;
			}

			dialog {
				border: 1px solid #ccc;
				border-radius: 8px;
				padding: 2rem;
				width: 90%;
				max-width: 500px;
			}

			form {
				display: flex;
				flex-direction: column;
				gap: 1rem;
			}

			label {
				font-weight: bold;
			}

			input,
			select,
			textarea {
				padding: 0.5rem;
				border: 1px solid #ccc;
				border-radius: 4px;
			}

			.form-actions {
				display: flex;
				justify-content: space-between;
				margin-top: 1rem;
			}

			#phoneHelp {
				font-size: 0.8rem;
				color: #666;
			}
		</style>
	</head>
	<body>
		<!-- Шапка сайта -->
		<header>
			<a href="/">Логотип или название сайта</a>
			<!-- Главное меню навигации -->
			<nav>
				<ul>
					<li><a href="index.html">Главная</a></li>
					<li><a href="about.html">О нас</a></li>
					<li><a href="contacts.html">Контакты</a></li>
				</ul>
			</nav>
		</header>

		<!-- Уникальное основное содержимое страницы -->
		<main>
			<h1>Добро пожаловать на наш сайт!</h1>

			<!-- Секция 1 с якорем -->
			<section id="services">
				<h2>Наши услуги</h2>
				<p>
					Мы предоставляем широкий спектр услуг высокого качества, включая
					веб-разработку, дизайн и консультации.
				</p>
				<a href="#contacts">Связаться с нами</a>
			</section>

			<!-- Секция 2 с якорем -->
			<section id="portfolio">
				<h2>Портфолио</h2>
				<p>
					Здесь вы можете ознакомиться с нашими последними работами и проектами,
					которые мы успешно завершили.
				</p>
			</section>

			<!-- Секция 3 с якорем -->
			<section id="contacts">
				<h2>Контактная информация</h2>
				<p>Наши контакты: email@example.com, телефон: +7 (123) 456-78-90</p>
				<!-- Кнопка открытия модалки -->
				<button id="openDialog" type="button">Написать нам</button>
				<a href="contacts.html">Подробнее</a>
			</section>
		</main>

		<!-- Подвал сайта -->
		<footer>
			<p>&copy; 2023 Название вашего сайта. Все права защищены.</p>
			<p>Телефон: +7 (123) 456-78-90</p>
		</footer>

		<!-- Модалка с формой -->
		<dialog id="contactDialog" aria-labelledby="dialogTitle">
			<h2 id="dialogTitle">Обратная связь</h2>
			<form id="contactForm" method="dialog" novalidate>
				<label for="name">Имя</label>
				<input
					id="name"
					name="name"
					type="text"
					required
					minlength="2"
					autocomplete="given-name"
				/>

				<label for="email">E-mail</label>
				<input
					id="email"
					name="email"
					type="email"
					required
					autocomplete="email"
				/>

				<label for="phone">Телефон</label>
				<input
					id="phone"
					name="phone"
					type="tel"
					inputmode="tel"
					autocomplete="tel"
					aria-describedby="phoneHelp"
					placeholder="+7 (___) ___-__-__"
					required
					pattern="^\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}$"
				/>
				<small id="phoneHelp">Формат: +7 (900) 000-00-00</small>

				<label for="date">Дата</label>
				<input id="date" name="date" type="date" />

				<label for="topic">Тема</label>
				<select id="topic" name="topic" required>
					<option value="">Выберите тему</option>
					<option value="question">Вопрос</option>
					<option value="order">Заказ</option>
				</select>

				<label for="message">Сообщение</label>
				<textarea id="message" name="message" rows="4" required></textarea>

				<div class="form-actions">
					<button type="button" id="closeDialog">Закрыть</button>
					<button type="submit">Отправить</button>
				</div>
			</form>
		</dialog>

		<script>
			// Получаем элементы модального окна
			const dlg = document.getElementById('contactDialog')
			const openBtn = document.getElementById('openDialog')
			const closeBtn = document.getElementById('closeDialog')
			const form = document.getElementById('contactForm')
			let lastActive = null

			// Открытие модального окна
			openBtn.addEventListener('click', () => {
				lastActive = document.activeElement
				dlg.showModal()
				dlg.querySelector('input, select, textarea, button')?.focus()
			})

			// Закрытие модального окна
			closeBtn.addEventListener('click', () => dlg.close('cancel'))

			// Валидация формы
			form?.addEventListener('submit', e => {
				// Сбросить все сообщения об ошибках
				;[...form.elements].forEach(el => el.setCustomValidity?.(''))

				if (!form.checkValidity()) {
					e.preventDefault()
					const email = form.elements.email
					if (email?.validity.typeMismatch) {
						email.setCustomValidity(
							'Введите корректный e-mail, например name@example.com'
						)
					}
					form.reportValidity()
					;[...form.elements].forEach(el => {
						if (el.willValidate) {
							el.toggleAttribute('aria-invalid', !el.checkValidity())
						}
					})
					return
				}

				e.preventDefault()
				alert('Форма успешно отправлена!')
				dlg.close('success')
				form.reset()
			})

			// Возврат фокуса
			dlg.addEventListener('close', () => {
				lastActive?.focus()
			})

			// Маска для телефона
			const phoneInput = document.getElementById('phone')
			phoneInput.addEventListener('input', function (e) {
				let value = e.target.value.replace(/\D/g, '')
				if (value.startsWith('7')) {
					value = value.substring(1)
				}
				if (value.length > 0) {
					value = '+7 (' + value
					if (value.length > 7) {
						value = value.substring(0, 7) + ') ' + value.substring(7)
					}
					if (value.length > 12) {
						value = value.substring(0, 12) + '-' + value.substring(12)
					}
					if (value.length > 15) {
						value = value.substring(0, 15) + '-' + value.substring(15)
					}
				}
				e.target.value = value
			})
		</script>
	</body>
</html>
